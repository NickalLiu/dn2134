<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta name="viewport" content="width=device-width,target-densitydpi=high-dpi,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <!-- meta使用viewport以确保页面可自由缩放 -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- 引入 jQuery 库 -->
  <script src="http://apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<style>
	*{
		margin:0;
		padding:1px;
	}
	div{
		background: #666666;
		text-align: left;
	}
	label{
		color: #ffffcc;
		font-size: 16px;
	}
	button{
		width: 100%;
		height: 30px;
		text-align: left;
		padding-left: 5px;
	}
</style>
<body>
	{%for i in qst%}
	<div id={{forloop.counter}} name="unsel" align="left">
		<label>{{forloop.counter}}. {{i.qst}}</label>
		<button name="A">A. {{i.A}}</button>
		<button name="B">B. {{i.B}}</button>
		<button name="C">C. {{i.C}}</button>
		<button name="D">D. {{i.D}}</button>
	</div>
	</br>
	{% endfor %}
</body>
<script src="http://apps.bdimg.com/libs/jquery/1.10.2/jquery.min.js"></script>
<script type="text/javascript">
	var SEL_RELATION = ['A', 'B', 'C', 'D'];
	var s = "{{ans}}";
	s = s.replace(/&quot;/g, "").split(',');
	//点击选项，确定题目编号和选项字母
	$(document).on("click",'button',function(){
		var index_qst = this.closest("div").id;
		var index_sel = window.SEL_RELATION[$(this).index()];
		if($(this).closest("div").attr("name") == "unsel"){
			if(window.s[index_qst].slice(-2,-1) == index_sel){
				$(this).css("background", "#33cc33");
			}
			else{
				$(this).css("background", "#ff6600");
				$(this).closest("div").find("[name=" + window.s[index_qst].slice(-2,-1) + "]").css("background", "#33cc33");
			}
		}
		$(this).closest("div").attr("name" , "sel");
	});
</script>
</html>
